/*! For license information please see degreesign.node.min.js.LICENSE.txt */
(()=>{var e={24:e=>{"use strict";e.exports=require("node:fs")},69:(e,t)=>{(()=>{"use strict";var e={125:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addZ=t.tN=t.monNm=t.tmUTC=t.tmAP=t.moYrDt=t.shortDt=t.fullLong=t.fullDate=t.fullDt=t.invDt=t.dayRes=t.timeStandard=t.dateStandard=t.seoDt=t.thisYear=t.oneMon=t.oneMin=t.oneHr=t.oneDay=t.oneSec=void 0;const r=()=>Date.now(),n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],a=["st","nd","rd","th"],i=e=>0==+e?"00":+e<10&&+e>=1?`0${e}`:`${e}`,c=e=>{const t=new Date(e);return`${t.getUTCFullYear()}-${i(t.getUTCMonth()+1)}-${i(t.getUTCDate())}`},u=e=>{const t=e.getUTCHours()+1;return i(t<0?24+t:t)+`:${i(e.getUTCMinutes())}`+`:${i(e.getUTCSeconds())}`};t.tN=r,t.monNm=n,t.dayRes=90,t.oneSec=1e3,t.oneMin=6e4,t.oneHr=36e5,t.oneDay=864e5,t.oneMon=27e8,t.addZ=i,t.tmUTC=e=>{const t=new Date(e);return i(t.getUTCHours())+`:${i(t.getUTCMinutes())} UTC`},t.tmAP=e=>{const t=new Date(e),r=t.getHours();return i(r>12?r-12:r)+`:${i(t.getMinutes())}`+(r>=12?"pm":"am")},t.shortDt=e=>{const t=new Date(e);return`${t.getDate()} ${o[t.getMonth()]}`},t.moYrDt=e=>{const t=new Date(e);return`${o[t.getMonth()]} ${t.getFullYear()}`},t.fullDt=e=>{const t=new Date(e);return`${t.getDate()} ${o[t.getMonth()]} ${t.getFullYear()}`},t.fullDate=e=>{const t=new Date(e);return`${t.getDate()} ${n[t.getMonth()]} ${t.getFullYear()}`},t.fullLong=e=>`${(e=>{const t=new Date(e),r=t.getDate();return r+a[r<5?r-1:r>4&&r<21?3:r>20&&r<25?r-21:r>24&&r<31?3:0]+` of ${n[t.getMonth()]}`})(e)} ${new Date(e).getFullYear()}`,t.thisYear=e=>(e?new Date(e):new Date)?.getUTCFullYear(),t.dateStandard=c,t.timeStandard=u,t.seoDt=e=>{!e&&(e=r());const t=new Date(e);return`${c(t)}T${u(t)}+01:00`},t.invDt=e=>{const t=new Date(e);return`${t.getUTCFullYear()}`.split("20")[1]+i(t.getUTCMonth()+1)+i(t.getUTCDate())+`${e}`.slice(10)}},240:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.idRandLong=t.idRandShort=t.idShuffle=void 0;const r=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","@",".","_","0","1","2","3","4","5","6","7","8","9"];t.idShuffle=async({data:e,password:t})=>4==t?.length?(({data:e,password:t})=>{try{const n=(e,t)=>r.includes(e.toLowerCase())?r[(r.indexOf(e.toLowerCase())+Math.pow(t,3))%r.length]:e;return[...e].map(e=>n(e,Number(t))).join("")}catch{return""}})({data:e,password:t}):await(async({data:e,password:t})=>{if(!e||!t)return"";try{crypto.subtle;const r=new TextEncoder,n=r.encode(e),o=r.encode(t),a=await crypto.subtle.digest("SHA-256",o),i=new Uint8Array(a),c=i.slice(0,32),u=i.slice(0,12),s=await crypto.subtle.importKey("raw",c,{name:"AES-GCM"},!1,["encrypt"]),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:u},s,n);return btoa(String.fromCharCode(...new Uint8Array(l))).replace(/\+/g,"a").replace(/\//g,"b").replace(/=/g,"c").toLowerCase()}catch{return""}})({data:e,password:t}),t.idRandShort=(e=10)=>{try{return crypto.randomUUID()?.replaceAll("-","")?.slice(0,e)}catch(e){return console.log("idRandShort failed",e),""}},t.idRandLong=(e=10)=>{try{const t="abcdefghijklmnopqrstuvwxyz",r=new Uint8Array(e);return crypto.getRandomValues(r),Array.from(r).map(e=>t[e%26]).join("")}catch(e){return console.log("idRandLong failed",e),""}}},246:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cacheCheck=t.delayCode=void 0;const n=r(125);t.delayCode=async(e=0)=>await new Promise(t=>setTimeout(t,e)),t.cacheCheck=({analysisCacheLimit:e,lastUpdated:t,forceRefresh:r})=>{const o=Date.now();if(t&&(!r&&t>o-e||r&&t>o-n.oneDay))return!0}},792:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEven=t.pNum=t.sharpeRatio=t.priceVariations=t.nTxtAr=t.zNum=t.addCom=t.adjNum=t.rNum=void 0;const r=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19],n=(e,t=6)=>{const n=+e,o=n?Math.abs(n):0,a=o>1&&t?t-`${Math.round(o)}`.length:0;return n?(n<0?-1:1)*(Number.isInteger(o)||o<1e-16?o:o>1e5?Math.round(o):o>1?Number(o.toFixed(a<0?0:a)):((e,t)=>{let n=0;for(const o of r){if(o<e)return Number(e.toFixed(t+n-1));n++}return e})(o,t)):e},o=(e,t)=>{const r=(n(e,t)+"").split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")},a=(e,t=3)=>{const r=Number(e);if(!e||!r)return e+"";const a=Math.abs(r);return(r<0?"-":"")+(a>1e9?o(a/1e9,t)+"b":a>1e6?o(a/1e6,t)+"m":a<1e-6&&a>1e-16?(1+n(a,t)+"").replace(/1./g,"0."):o(a,t))};t.nTxtAr=["zero","one","two","three","four","five","six","seven","eight","nine","ten"],t.rNum=n,t.addCom=o,t.adjNum=a,t.zNum=e=>{const t=Number(e);let r=t?Math.abs(t):0,n=1e10;for(;n>1;)r>n&&(r=Math.round(r/(n/10))*(n/10)),n/=10;return t?(t<0?"-":"")+a(r,2):e},t.pNum=e=>+e||0==+e?Math.round(1e6*+e)/1e6:null,t.priceVariations=e=>{try{let t=0;const r=[...e].sort((e,t)=>e[0]-t[0]),n=e.reduce((e,[,t])=>e+t,0),o=r.find(([,e])=>(t+=e,t>=n/2))[0];return e.filter(([e])=>Math.abs(e-o)/o<.05).map(([e])=>e)}catch{return[]}},t.sharpeRatio=({assetPrices:e,minExpectedReturn:t=.05})=>{if(!e?.length||e?.length<2)return 0;const r=e.slice(1).map((t,r)=>(t-e[r])/e[r]),n=r.reduce((e,t)=>e+t,0)/r.length,o=Math.sqrt(r.reduce((e,t)=>e+Math.pow(t-n,2),0)/r.length);return(n-t)/o},t.isEven=e=>e%2==0},794:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.restoreObj=t.restoreObjStr=t.storeObj=t.storeObjStr=t.objNestValueCount=t.objLen=t.objSortSimple=t.objSort=void 0;const n=r(125),o=e=>{try{return Object.keys(e||{})?.length||0}catch(e){return console.log(e),0}},a=e=>{try{return e?.replace(/"/g,"'")}catch(e){return console.log((0,n.tN)(),"storeObjStr failed",e),""}},i=e=>{try{return e?.toString()?.replace(/'/g,'"')}catch(e){console.log((0,n.tN)(),"restoreObjStr failed",e)}};t.objLen=o,t.objNestValueCount=e=>{let t=0;if(o(e))for(const r in e)t+=o(e[r])?1:0;return t},t.objSort=(e={},t,r=-1)=>Object.fromEntries(Object.entries(e).sort(([,e],[,n])=>null===e[t]||void 0===e[t]?1:null===n[t]||void 0===n[t]?-1:e[t]>n[t]?1*r:-1*r)),t.objSortSimple=(e={},t=-1)=>Object.fromEntries(Object.entries(e).sort(([,e],[,r])=>null==e?1:null==r?-1:e>r?1*t:-1*t)),t.storeObjStr=a,t.storeObj=e=>{try{return a(JSON.stringify(e))}catch(e){return console.log((0,n.tN)(),"storeObj failed",e),""}},t.restoreObjStr=i,t.restoreObj=e=>{try{if(!e)return;const t=i(e);return t?JSON.parse(t):void 0}catch(e){console.log((0,n.tN)(),"restoreObj failed",e)}}},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.phaseDifference=t.compareArrays=t.squeezeArray=t.forecastNextTotal=t.forecastNext=t.getMax=t.getMean=t.getSum=t.maxVl=t.minVl=t.sumArr=void 0;const r=e=>{try{return e?.length?e.reduce((e,t)=>e+t):0}catch(e){return console.log("sumArr failed",e),0}},n=e=>{try{return e?.length?e.reduce((e,t)=>e+t,0):0}catch(e){return console.log("getSum failed",e),0}},o=({currentPeriod:e,steps:t=1})=>{try{if(!Array.isArray(e)||e.length<2)return[];const r=e.length,n=r*(r-1)/2,o=e.reduce((e,t)=>e+t,0),a=e.reduce((e,t,r)=>e+r*t,0),i=(r*a-n*o)/(r*(r*(r-1)*(2*r-1)/6)-n**2),c=(o-i*n)/r;return Array.from({length:t},(e,t)=>c+i*(r+t))}catch(e){return console.log("forecastNext failed",e),[]}};t.sumArr=r,t.maxVl=(e,t)=>{let r=0;for(let n=0;n<e.length;n++){const o=e[n];o[t]>r&&(r=o[t])}return r},t.minVl=(e,t)=>{let r=0;for(let n=0;n<e.length;n++){const o=e[n];o[t]<r&&(r=o[t])}return r},t.getSum=n,t.getMean=e=>{try{return e?.length?n(e)/e.length:0}catch(e){return console.log("getMean failed",e),0}},t.getMax=e=>{try{return e?.length?Math.max(...e):0}catch(e){return console.log("getMax failed",e),0}},t.forecastNext=o,t.forecastNextTotal=e=>{try{const t=o({currentPeriod:e,steps:e?.length});return n(t)}catch(e){return console.log("forecastNextTotal failed",e),0}},t.squeezeArray=({arr:e,targetLength:t})=>{try{if(!e||0===e.length||t<=0)throw new Error("Invalid input");const n=Math.ceil(e.length/t);return Array.from({length:t},(t,o)=>{const a=o*n,i=Math.min(a+n,e.length),c=e.slice(a,i);return r(c)}).slice(0,t)}catch(e){return console.log("squeezeArray failed",e),[]}},t.compareArrays=({arrays:e})=>{try{const t=[...e],n=Math.min(...t.map(e=>e.length));for(let e=0;e<t.length;e++)t.splice(n);const o=t.map(e=>r(e)),a=[],i=Math.min(...o),c=o.indexOf(i),u=i/Math.max(...o);for(let e=0;e<t.length;e++){const r=t[e];if(a[e]=[],e==c)a[e]=r;else for(let t=0;t<r.length;t++)a[e].push(u*r[t])}return a}catch(t){return console.log("compareArrays failed",t),e}},t.phaseDifference=({array1:e,array2:t})=>{try{let r=e.length,n=e.reduce((e,t)=>e+t)/r,o=t.reduce((e,t)=>e+t)/r,a=e.map(e=>e-n),i=t.map(e=>e-o),c=Math.floor(r/2),u=-1/0,s=0;for(let e=-c;e<=c;e++){let t=0,n=0,o=0,c=0;for(let u=0;u<r;u++){let s=u+e;s>=0&&s<r&&(t+=a[u]*i[s],n+=a[u]*a[u],o+=i[s]*i[s],c++)}if(n>0&&o>0&&c>=.8*r){let r=t/Math.sqrt(n*o);r>u&&(u=r,s=e)}}return s}catch(e){return console.log("phaseDifference failed",e),0}}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t](a,a.exports,n),a.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.idShuffle=e.isEven=e.pNum=e.nTxtAr=e.zNum=e.addCom=e.adjNum=e.rNum=e.sharpeRatio=e.priceVariations=e.timeStandard=e.dateStandard=e.addZ=e.tN=e.monNm=e.tmUTC=e.tmAP=e.moYrDt=e.shortDt=e.fullLong=e.fullDate=e.fullDt=e.invDt=e.dayRes=e.thisYear=e.seoDt=e.oneMon=e.oneMin=e.oneHr=e.oneDay=e.oneSec=e.restoreObj=e.restoreObjStr=e.storeObj=e.storeObjStr=e.objSortSimple=e.objSort=e.objNestValueCount=e.objLen=e.phaseDifference=e.compareArrays=e.squeezeArray=e.forecastNextTotal=e.forecastNext=e.getMax=e.getMean=e.getSum=e.maxVl=e.minVl=e.sumArr=void 0,e.cacheCheck=e.delayCode=e.idRandLong=e.idRandShort=void 0;const t=n(246);Object.defineProperty(e,"cacheCheck",{enumerable:!0,get:function(){return t.cacheCheck}}),Object.defineProperty(e,"delayCode",{enumerable:!0,get:function(){return t.delayCode}});const r=n(830);Object.defineProperty(e,"sumArr",{enumerable:!0,get:function(){return r.sumArr}}),Object.defineProperty(e,"minVl",{enumerable:!0,get:function(){return r.minVl}}),Object.defineProperty(e,"maxVl",{enumerable:!0,get:function(){return r.maxVl}}),Object.defineProperty(e,"getMax",{enumerable:!0,get:function(){return r.getMax}}),Object.defineProperty(e,"getMean",{enumerable:!0,get:function(){return r.getMean}}),Object.defineProperty(e,"getSum",{enumerable:!0,get:function(){return r.getSum}}),Object.defineProperty(e,"forecastNext",{enumerable:!0,get:function(){return r.forecastNext}}),Object.defineProperty(e,"forecastNextTotal",{enumerable:!0,get:function(){return r.forecastNextTotal}}),Object.defineProperty(e,"squeezeArray",{enumerable:!0,get:function(){return r.squeezeArray}}),Object.defineProperty(e,"compareArrays",{enumerable:!0,get:function(){return r.compareArrays}}),Object.defineProperty(e,"phaseDifference",{enumerable:!0,get:function(){return r.phaseDifference}});const a=n(240);Object.defineProperty(e,"idRandLong",{enumerable:!0,get:function(){return a.idRandLong}}),Object.defineProperty(e,"idRandShort",{enumerable:!0,get:function(){return a.idRandShort}}),Object.defineProperty(e,"idShuffle",{enumerable:!0,get:function(){return a.idShuffle}});const i=n(792);Object.defineProperty(e,"addCom",{enumerable:!0,get:function(){return i.addCom}}),Object.defineProperty(e,"adjNum",{enumerable:!0,get:function(){return i.adjNum}}),Object.defineProperty(e,"priceVariations",{enumerable:!0,get:function(){return i.priceVariations}}),Object.defineProperty(e,"nTxtAr",{enumerable:!0,get:function(){return i.nTxtAr}}),Object.defineProperty(e,"rNum",{enumerable:!0,get:function(){return i.rNum}}),Object.defineProperty(e,"zNum",{enumerable:!0,get:function(){return i.zNum}}),Object.defineProperty(e,"sharpeRatio",{enumerable:!0,get:function(){return i.sharpeRatio}}),Object.defineProperty(e,"pNum",{enumerable:!0,get:function(){return i.pNum}}),Object.defineProperty(e,"isEven",{enumerable:!0,get:function(){return i.isEven}});const c=n(125);Object.defineProperty(e,"oneSec",{enumerable:!0,get:function(){return c.oneSec}}),Object.defineProperty(e,"oneDay",{enumerable:!0,get:function(){return c.oneDay}}),Object.defineProperty(e,"oneHr",{enumerable:!0,get:function(){return c.oneHr}}),Object.defineProperty(e,"oneMin",{enumerable:!0,get:function(){return c.oneMin}}),Object.defineProperty(e,"oneMon",{enumerable:!0,get:function(){return c.oneMon}}),Object.defineProperty(e,"seoDt",{enumerable:!0,get:function(){return c.seoDt}}),Object.defineProperty(e,"dayRes",{enumerable:!0,get:function(){return c.dayRes}}),Object.defineProperty(e,"invDt",{enumerable:!0,get:function(){return c.invDt}}),Object.defineProperty(e,"fullDt",{enumerable:!0,get:function(){return c.fullDt}}),Object.defineProperty(e,"fullDate",{enumerable:!0,get:function(){return c.fullDate}}),Object.defineProperty(e,"fullLong",{enumerable:!0,get:function(){return c.fullLong}}),Object.defineProperty(e,"shortDt",{enumerable:!0,get:function(){return c.shortDt}}),Object.defineProperty(e,"moYrDt",{enumerable:!0,get:function(){return c.moYrDt}}),Object.defineProperty(e,"tmAP",{enumerable:!0,get:function(){return c.tmAP}}),Object.defineProperty(e,"tmUTC",{enumerable:!0,get:function(){return c.tmUTC}}),Object.defineProperty(e,"monNm",{enumerable:!0,get:function(){return c.monNm}}),Object.defineProperty(e,"tN",{enumerable:!0,get:function(){return c.tN}}),Object.defineProperty(e,"addZ",{enumerable:!0,get:function(){return c.addZ}}),Object.defineProperty(e,"timeStandard",{enumerable:!0,get:function(){return c.timeStandard}}),Object.defineProperty(e,"dateStandard",{enumerable:!0,get:function(){return c.dateStandard}}),Object.defineProperty(e,"thisYear",{enumerable:!0,get:function(){return c.thisYear}});const u=n(794);Object.defineProperty(e,"objSort",{enumerable:!0,get:function(){return u.objSort}}),Object.defineProperty(e,"objLen",{enumerable:!0,get:function(){return u.objLen}}),Object.defineProperty(e,"objNestValueCount",{enumerable:!0,get:function(){return u.objNestValueCount}}),Object.defineProperty(e,"restoreObj",{enumerable:!0,get:function(){return u.restoreObj}}),Object.defineProperty(e,"restoreObjStr",{enumerable:!0,get:function(){return u.restoreObjStr}}),Object.defineProperty(e,"storeObj",{enumerable:!0,get:function(){return u.storeObj}}),Object.defineProperty(e,"storeObjStr",{enumerable:!0,get:function(){return u.storeObjStr}}),Object.defineProperty(e,"objSortSimple",{enumerable:!0,get:function(){return u.objSortSimple}})})();var a=t;for(var i in o)a[i]=o[i];o.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})()},109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipRateLimits=t.countriesCodes=t.ipSourceUrl=void 0;t.ipSourceUrl="https://cdn.jsdelivr.net/npm/@ip-location-db/dbip-country/dbip-country-ipv4-num.csv",t.countriesCodes={AD:1,AE:1,AF:1,AG:1,AI:1,AL:1,AM:1,AO:1,AQ:1,AR:1,AS:1,AT:1,AU:1,AW:1,AX:1,AZ:1,BA:1,BB:1,BD:1,BE:1,BF:1,BG:1,BH:1,BI:1,BJ:1,BL:1,BM:1,BN:1,BO:1,BQ:1,BR:1,BS:1,BT:1,BV:1,BW:1,BY:1,BZ:1,CA:1,CC:1,CD:1,CF:1,CG:1,CH:1,CI:1,CK:1,CL:1,CM:1,CN:1,CO:1,CR:1,CU:1,CV:1,CW:1,CX:1,CY:1,CZ:1,DE:1,DJ:1,DK:1,DM:1,DO:1,DZ:1,EC:1,EE:1,EG:1,EH:1,ER:1,ES:1,ET:1,FI:1,FJ:1,FK:1,FM:1,FO:1,FR:1,GA:1,GB:1,GD:1,GE:1,GF:1,GG:1,GH:1,GI:1,GL:1,GM:1,GN:1,GP:1,GQ:1,GR:1,GS:1,GT:1,GU:1,GW:1,GY:1,HK:1,HM:1,HN:1,HR:1,HT:1,HU:1,ID:1,IE:1,IL:1,IM:1,IN:1,IO:1,IQ:1,IR:1,IS:1,IT:1,JE:1,JM:1,JO:1,JP:1,KE:1,KG:1,KH:1,KI:1,KM:1,KN:1,KP:1,KR:1,KW:1,KY:1,KZ:1,LA:1,LB:1,LC:1,LI:1,LK:1,LR:1,LS:1,LT:1,LU:1,LV:1,LY:1,MA:1,MC:1,MD:1,ME:1,MF:1,MG:1,MH:1,MK:1,ML:1,MM:1,MN:1,MO:1,MP:1,MQ:1,MR:1,MS:1,MT:1,MU:1,MV:1,MW:1,MX:1,MY:1,MZ:1,NA:1,NC:1,NE:1,NF:1,NG:1,NI:1,NL:1,NO:1,NP:1,NR:1,NU:1,NZ:1,OM:1,PA:1,PE:1,PF:1,PG:1,PH:1,PK:1,PL:1,PM:1,PN:1,PR:1,PS:1,PT:1,PW:1,PY:1,QA:1,RE:1,RO:1,RS:1,RU:1,RW:1,SA:1,SB:1,SC:1,SD:1,SE:1,SG:1,SH:1,SI:1,SJ:1,SK:1,SL:1,SM:1,SN:1,SO:1,SR:1,SS:1,ST:1,SV:1,SX:1,SY:1,SZ:1,TC:1,TD:1,TF:1,TG:1,TH:1,TJ:1,TK:1,TL:1,TM:1,TN:1,TO:1,TR:1,TT:1,TV:1,TW:1,TZ:1,UA:1,UG:1,UM:1,US:1,UY:1,UZ:1,VA:1,VC:1,VE:1,VG:1,VI:1,VN:1,VU:1,WF:1,WS:1,XK:1,YE:1,YT:1,ZA:1,ZM:1,ZW:1,UN:1},t.ipRateLimits={generalAccess:20,whiteListed:100,priorityAccess:500}},177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipCountryCode=t.ipArray=t.ipNumericalValue=void 0;const n=r(109),o=e=>{try{return e?.split(".")?.reduce((e,t)=>256*e+parseInt(t),0)}catch{return 0}},a=e=>e?e.match(", ")?e.split(", "):e.match("::ffff:")?e.split("::ffff:"):[]:[];t.ipNumericalValue=o,t.ipArray=a,t.ipCountryCode=({code:e,ips:t,ipRange:r})=>{try{const n=a(t)?.find(e=>!e?.includes(":"));if(n){const t=o(n);for(const[n,o,a]of r)if(t>=n&&t<=o){e=a;break}}}catch(e){console.error("ipCountryCode failed",e)}return e&&n.countriesCodes[e]?e:"UN"}},211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipStart=void 0;const n=r(69),o=r(941);let a=setInterval(()=>{},n.oneDay),i=setInterval(()=>{},n.oneDay);t.ipStart=async({ipRangeRefreshInterval:e=n.oneDay,ipLimitResetInterval:t=5*n.oneMin})=>{await(0,o.ipRangeUpdate)(),"number"==typeof e&&(clearInterval(a),a=setInterval(o.ipRangeUpdate,e)),"number"==typeof t&&(clearInterval(i),i=setInterval(o.ipListReset,t))}},246:(e,t,r)=>{(()=>{"use strict";var e={24:e=>{e.exports=r(24)},918:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setCacheDir=t.getCacheDir=t.readCache=t.saveCache=void 0;const n=r(995);let o="/root/server_cache/cache/";const a={};t.getCacheDir=()=>o,t.setCacheDir=e=>{(0,n.safeFolder)(e),o=e},t.saveCache=(e,t)=>{if(a[e]=t,e?.includes("/")){const t=e.substring(0,e.lastIndexOf("/"));(0,n.safeFolder)(`${o}${t}`)}(0,n.wrtJ)(`${o}${e}.json`,t)},t.readCache=e=>(a[e]||(a[e]=(0,n.redJ)(`${o}${e}.json`,!0)),a[e])},995:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fileStats=t.delFolder=t.safeFolder=t.redJ=t.red=t.wrtJ=t.wrt=void 0;const n=r(24),o=()=>(new Date)?.toISOString(),a=(e,t)=>{try{return t?((0,n.writeFileSync)(e,t,"utf8"),!0):(console.log(o(),"no data to write to",e),!1)}catch{return console.log(o(),"failed to write to",e),!1}},i=(e,t)=>{try{return(0,n.readFileSync)(e,"utf8")}catch(r){return void(t||console.log(o(),"no data to read at",e))}};t.safeFolder=e=>{try{return(0,n.existsSync)(e)||(0,n.mkdirSync)(e,{recursive:!0}),!0}catch(e){return console.log(o(),"safeFolder failed",e),!1}},t.delFolder=e=>{try{return(0,n.existsSync)(e)&&(0,n.rmSync)(e,{recursive:!0,force:!0}),!0}catch(e){return console.log(o(),"delFolder failed",e),!1}},t.fileStats=e=>{try{return(0,n.statSync)(e)}catch(e){return void console.log(o(),"fileStats failed",e)}},t.wrt=a,t.wrtJ=(e,t)=>{try{if(Object.keys(t||{})?.length){const r=JSON.stringify(t);return r?a(e,r)?1:(console.log(o(),"error writing to:",e),0):(console.log(o(),"no JSON data to write.",e),0)}return console.log(o(),"no JSON data to write.",e),0}catch(t){return console.log(o(),"major error writing to:",e),0}},t.red=i,t.redJ=(e,t)=>{try{const r=i(e,t);return r?JSON.parse(r):void 0}catch(r){return void(t||console.log(o(),"no JSON data to read:",e))}}}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,o),a.exports}var a={};(()=>{var e=a;Object.defineProperty(e,"__esModule",{value:!0}),e.setCacheDir=e.getCacheDir=e.readCache=e.saveCache=e.fileStats=e.delFolder=e.safeFolder=e.redJ=e.red=e.wrtJ=e.wrt=void 0;const t=o(918);Object.defineProperty(e,"saveCache",{enumerable:!0,get:function(){return t.saveCache}}),Object.defineProperty(e,"readCache",{enumerable:!0,get:function(){return t.readCache}}),Object.defineProperty(e,"getCacheDir",{enumerable:!0,get:function(){return t.getCacheDir}}),Object.defineProperty(e,"setCacheDir",{enumerable:!0,get:function(){return t.setCacheDir}});const r=o(995);Object.defineProperty(e,"wrt",{enumerable:!0,get:function(){return r.wrt}}),Object.defineProperty(e,"wrtJ",{enumerable:!0,get:function(){return r.wrtJ}}),Object.defineProperty(e,"red",{enumerable:!0,get:function(){return r.red}}),Object.defineProperty(e,"redJ",{enumerable:!0,get:function(){return r.redJ}}),Object.defineProperty(e,"safeFolder",{enumerable:!0,get:function(){return r.safeFolder}}),Object.defineProperty(e,"delFolder",{enumerable:!0,get:function(){return r.delFolder}}),Object.defineProperty(e,"fileStats",{enumerable:!0,get:function(){return r.fileStats}})})();var i=t;for(var c in a)i[c]=a[c];a.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()},361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipCountryDataUpdate=void 0;const n=r(109);t.ipCountryDataUpdate=async()=>await new Promise(async e=>{try{const t=await fetch(n.ipSourceUrl),r=t?.body.getReader(),o=new TextDecoder,a=[];let i="";for(;;){const{done:e,value:t}=await r.read();if(e)break;i+=o.decode(t,{stream:!0});const n=i.split("\n");i=n.pop()||"";for(const e of n){if(!e.trim())continue;const[t,r,n]=e.split(","),o=parseInt(t),i=parseInt(r);o&&n&&a.push([o,i,n.trim()])}}a?.length?e(a):console.log("ipCountryDataUpdate no data")}catch(t){console.log("ipCountryDataUpdate failed",t),e([])}})},941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipListReset=t.ipRangeUpdate=t.ipData=t.ipPriorityList=t.ipWhiteList=t.ipCheck=t.ipResetLimits=void 0;const n=r(69),o=r(246),a=r(177),i=r(109),c=r(361),u=()=>({p:{},w:{},b:[],l:{}}),s={ipList:{p:{},w:{},b:[],l:{}},ipRange:(0,o.redJ)("ip_range.json")||[]};t.ipResetLimits=u,t.ipCheck=e=>{try{const t=s.ipList,r=i.ipRateLimits.generalAccess,n=i.ipRateLimits.whiteListed,o=i.ipRateLimits.priorityAccess,c=(0,a.ipArray)(e);for(let e=0;e<c.length;e++){const a=c[e];if(a){if(t.p[a]<o||t.w[a]<n)break;if(t.b.indexOf(a)>-1)return 0;if(t.l[a]){if(t.l[a]>r)return t.b.push(a),0;t.l[a]+=1}else t.l[a]=1}}return 1}catch(e){console.log((0,n.seoDt)(),"Validating IP failed",e)}},t.ipWhiteList=e=>{try{const t=s.ipList,r=(0,a.ipArray)(e);for(let e=0;e<r.length;e++){const n=r[e];n&&(t.w[n]?t.w[n]+=1:t.w[n]=1)}}catch(e){console.log((0,n.seoDt)(),"Checking IP whitelist failed",e)}},t.ipPriorityList=e=>{try{const t=s.ipList,r=(0,a.ipArray)(e);for(let e=0;e<r.length;e++){const n=r[e];n&&(t.p[n]?t.p[n]+=1:t.p[n]=1)}}catch(e){console.log((0,n.seoDt)(),"Checking IP priority list failed",e)}},t.ipData=s,t.ipRangeUpdate=async()=>{try{const e=await(0,c.ipCountryDataUpdate)();e?.length&&(s.ipRange=e,(0,o.wrtJ)("ip_range.json",e))}catch(e){console.log((0,n.seoDt)(),"ipRangeUpdate failed",e)}},t.ipListReset=()=>{s.ipList={p:{},w:{},b:[],l:{}}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.ipStart=e.ipData=e.ipCountryCode=e.ipRangeUpdate=e.ipRateLimits=e.ipResetLimits=e.ipArray=e.ipNumericalValue=e.ipPriorityList=e.ipWhiteList=e.ipCheck=void 0;const t=r(177);Object.defineProperty(e,"ipNumericalValue",{enumerable:!0,get:function(){return t.ipNumericalValue}}),Object.defineProperty(e,"ipArray",{enumerable:!0,get:function(){return t.ipArray}}),Object.defineProperty(e,"ipCountryCode",{enumerable:!0,get:function(){return t.ipCountryCode}});const o=r(109);Object.defineProperty(e,"ipRateLimits",{enumerable:!0,get:function(){return o.ipRateLimits}});const a=r(941);Object.defineProperty(e,"ipCheck",{enumerable:!0,get:function(){return a.ipCheck}}),Object.defineProperty(e,"ipWhiteList",{enumerable:!0,get:function(){return a.ipWhiteList}}),Object.defineProperty(e,"ipPriorityList",{enumerable:!0,get:function(){return a.ipPriorityList}}),Object.defineProperty(e,"ipResetLimits",{enumerable:!0,get:function(){return a.ipResetLimits}}),Object.defineProperty(e,"ipData",{enumerable:!0,get:function(){return a.ipData}}),Object.defineProperty(e,"ipRangeUpdate",{enumerable:!0,get:function(){return a.ipRangeUpdate}});const i=r(211);Object.defineProperty(e,"ipStart",{enumerable:!0,get:function(){return i.ipStart}})})();var o=exports;for(var a in n)o[a]=n[a];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();