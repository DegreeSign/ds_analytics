(()=>{var e={246(e,t,r){(()=>{"use strict";var e={24:e=>{e.exports=r(24)},522:e=>{e.exports=r(522)},790:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrtJCompressed=t.redJCompressed=void 0;const n=r(522),o=r(24),a=r(805);t.redJCompressed=({fileName:e,disableLog:t})=>{try{const r=(0,o.readFileSync)(e);if(r){const e=(0,n.gunzipSync)(r).toString(a.utf8);return JSON.parse(e)}(0,a.logErr)({fileName:e,disableLog:t,read:!0,json:!0,compressed:!0})}catch(r){(0,a.logErr)({fileName:e,disableLog:t,error:!0,read:!0,json:!0,compressed:!0})}},t.wrtJCompressed=({fileName:e,inputData:t})=>{try{const r=(0,a.getStrJSON)(t);if(r){const t=(0,n.gzipSync)(r);return(0,o.writeFileSync)(e,t),!0}(0,a.logErr)({fileName:e,json:!0,compressed:!0})}catch(t){(0,a.logErr)({fileName:e,error:!0,json:!0,compressed:!0})}return!1}},805:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStrJSON=t.logErr=t.logDate=t.utf8=void 0;const r=()=>(new Date)?.toISOString();t.utf8="utf8",t.logDate=r,t.logErr=({fileName:e,disableLog:t,error:n,read:o,json:a,compressed:i})=>{if(t)return;let s=n?"error "+(o?" reading":" writing"):"no";s+=`${i?" compressed":""}${a?" JSON":""} data`,s+=o?" at":" to"+(n?"":" write to"),s+=":",n?console.error(r(),s,e):console.log(r(),s,e)},t.getStrJSON=e=>{try{if(null!=e&&Object.keys(e||{})?.length)return JSON.stringify(e)}catch(e){}}},918:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setCacheDir=t.getCacheDir=t.readCache=t.saveCache=void 0;const n=r(979),o=r(995);let a="./cache/";const i={};t.getCacheDir=()=>a,t.setCacheDir=e=>{(0,n.safeFolder)(e),a=e},t.saveCache=(e,t)=>{try{return i[e]=t,e?.includes("/")&&(0,n.safeFolder)(`${a}${e.substring(0,e.lastIndexOf("/"))}`),(0,o.wrtJ)(`${a}${e}.json`,t)}catch(e){console.log("saveCache failed",e)}return!1},t.readCache=e=>{try{return i[e]||(i[e]=(0,o.redJ)(`${a}${e}.json`,!0)),i[e]}catch(e){console.log("readCache failed",e)}}},979:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fileStats=t.delFile=t.delFolder=t.safeFolder=void 0;const n=r(24),o=r(805);t.safeFolder=e=>{try{return(0,n.existsSync)(e)||(0,n.mkdirSync)(e,{recursive:!0}),!0}catch(t){console.error((0,o.logDate)(),"safeFolder failed for:",e)}return!1},t.delFolder=e=>{try{return(0,n.existsSync)(e)&&(0,n.rmSync)(e,{recursive:!0,force:!0}),!0}catch(t){console.error((0,o.logDate)(),"delFolder failed for:",e)}return!1},t.delFile=e=>{try{return(0,n.existsSync)(e)&&(0,n.unlinkSync)(e),!0}catch(t){console.error((0,o.logDate)(),"delFile failed for:",e)}return!1},t.fileStats=e=>{try{return(0,n.statSync)(e)}catch(t){console.error((0,o.logDate)(),"fileStats failed for:",e)}}},995:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.redJ=t.red=t.wrtJ=t.wrt=void 0;const n=r(24),o=r(805),a=(e,t)=>{try{if(null!=t)return(0,n.writeFileSync)(e,t,o.utf8),!0;(0,o.logErr)({fileName:e})}catch(t){(0,o.logErr)({fileName:e,error:!0})}return!1},i=(e,t)=>{try{return(0,n.readFileSync)(e,o.utf8)}catch(r){(0,o.logErr)({fileName:e,disableLog:t,error:!0,read:!0})}};t.wrt=a,t.wrtJ=(e,t)=>{try{const r=(0,o.getStrJSON)(t);if(r)return a(e,r);(0,o.logErr)({fileName:e,json:!0})}catch(t){(0,o.logErr)({fileName:e,error:!0,json:!0})}return!1},t.red=i,t.redJ=(e,t)=>{try{const r=i(e,t);return r?JSON.parse(r):void 0}catch(r){(0,o.logErr)({fileName:e,disableLog:t,error:!0,read:!0,json:!0})}}}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,o),a.exports}var a={};(()=>{var e=a;Object.defineProperty(e,"__esModule",{value:!0}),e.setCacheDir=e.getCacheDir=e.readCache=e.saveCache=e.fileStats=e.delFile=e.delFolder=e.safeFolder=e.redJCompressed=e.redJ=e.red=e.wrtJCompressed=e.wrtJ=e.wrt=void 0;const t=o(918);Object.defineProperty(e,"saveCache",{enumerable:!0,get:function(){return t.saveCache}}),Object.defineProperty(e,"readCache",{enumerable:!0,get:function(){return t.readCache}}),Object.defineProperty(e,"getCacheDir",{enumerable:!0,get:function(){return t.getCacheDir}}),Object.defineProperty(e,"setCacheDir",{enumerable:!0,get:function(){return t.setCacheDir}});const r=o(790);Object.defineProperty(e,"redJCompressed",{enumerable:!0,get:function(){return r.redJCompressed}}),Object.defineProperty(e,"wrtJCompressed",{enumerable:!0,get:function(){return r.wrtJCompressed}});const n=o(979);Object.defineProperty(e,"safeFolder",{enumerable:!0,get:function(){return n.safeFolder}}),Object.defineProperty(e,"delFolder",{enumerable:!0,get:function(){return n.delFolder}}),Object.defineProperty(e,"delFile",{enumerable:!0,get:function(){return n.delFile}}),Object.defineProperty(e,"fileStats",{enumerable:!0,get:function(){return n.fileStats}});const i=o(995);Object.defineProperty(e,"wrt",{enumerable:!0,get:function(){return i.wrt}}),Object.defineProperty(e,"wrtJ",{enumerable:!0,get:function(){return i.wrtJ}}),Object.defineProperty(e,"red",{enumerable:!0,get:function(){return i.red}}),Object.defineProperty(e,"redJ",{enumerable:!0,get:function(){return i.redJ}})})();var i=t;for(var s in a)i[s]=a[s];a.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()},69(e,t){(()=>{"use strict";var e={125:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addZ=t.tN=t.monNm=t.tmUTC=t.tmAP=t.moYrDt=t.shortDt=t.fullLong=t.fullDate=t.fullDt=t.invDt=t.dayRes=t.timeStandard=t.dateStandard=t.seoDt=t.thisYear=t.oneMon=t.oneMin=t.oneHr=t.oneDay=t.oneSec=void 0;const r=()=>Date.now(),n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],a=["st","nd","rd","th"],i=e=>0==+e?"00":+e<10&&+e>=1?`0${e}`:`${e}`,s=e=>{const t=new Date(e);return`${t.getUTCFullYear()}-${i(t.getUTCMonth()+1)}-${i(t.getUTCDate())}`},c=e=>{const t=e.getUTCHours()+1;return i(t<0?24+t:t)+`:${i(e.getUTCMinutes())}`+`:${i(e.getUTCSeconds())}`};t.tN=r,t.monNm=n,t.dayRes=90,t.oneSec=1e3,t.oneMin=6e4,t.oneHr=36e5,t.oneDay=864e5,t.oneMon=27e8,t.addZ=i,t.tmUTC=e=>{const t=new Date(e);return i(t.getUTCHours())+`:${i(t.getUTCMinutes())} UTC`},t.tmAP=e=>{const t=new Date(e),r=t.getHours();return i(r>12?r-12:r)+`:${i(t.getMinutes())}`+(r>=12?"pm":"am")},t.shortDt=e=>{const t=new Date(e);return`${t.getDate()} ${o[t.getMonth()]}`},t.moYrDt=e=>{const t=new Date(e);return`${o[t.getMonth()]} ${t.getFullYear()}`},t.fullDt=e=>{const t=new Date(e);return`${t.getDate()} ${o[t.getMonth()]} ${t.getFullYear()}`},t.fullDate=e=>{const t=new Date(e);return`${t.getDate()} ${n[t.getMonth()]} ${t.getFullYear()}`},t.fullLong=e=>`${(e=>{const t=new Date(e),r=t.getDate();return r+a[r<5?r-1:r>4&&r<21?3:r>20&&r<25?r-21:r>24&&r<31?3:0]+` of ${n[t.getMonth()]}`})(e)} ${new Date(e).getFullYear()}`,t.thisYear=e=>(e?new Date(e):new Date)?.getUTCFullYear(),t.dateStandard=s,t.timeStandard=c,t.seoDt=e=>{!e&&(e=r());const t=new Date(e);return`${s(t)}T${c(t)}+01:00`},t.invDt=e=>{const t=new Date(e);return`${t.getUTCFullYear()}`.split("20")[1]+i(t.getUTCMonth()+1)+i(t.getUTCDate())+`${e}`.slice(10)}},240:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.idRandLong=t.idRandShort=t.idShuffle=void 0;const r=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","@",".","_","0","1","2","3","4","5","6","7","8","9"];t.idShuffle=async({data:e,password:t})=>4==t?.length?(({data:e,password:t})=>{try{const n=(e,t)=>r.includes(e.toLowerCase())?r[(r.indexOf(e.toLowerCase())+Math.pow(t,3))%r.length]:e;return[...e].map(e=>n(e,Number(t))).join("")}catch{return""}})({data:e,password:t}):await(async({data:e,password:t})=>{if(!e||!t)return"";try{crypto.subtle;const r=new TextEncoder,n=r.encode(e),o=r.encode(t),a=await crypto.subtle.digest("SHA-256",o),i=new Uint8Array(a),s=i.slice(0,32),c=i.slice(0,12),u=await crypto.subtle.importKey("raw",s,{name:"AES-GCM"},!1,["encrypt"]),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:c},u,n);return btoa(String.fromCharCode(...new Uint8Array(l))).replace(/\+/g,"a").replace(/\//g,"b").replace(/=/g,"c").toLowerCase()}catch{return""}})({data:e,password:t}),t.idRandShort=(e=10)=>{try{return crypto.randomUUID()?.replaceAll("-","")?.slice(0,e)}catch(e){return console.log("idRandShort failed",e),""}},t.idRandLong=(e=10)=>{try{const t="abcdefghijklmnopqrstuvwxyz",r=new Uint8Array(e);return crypto.getRandomValues(r),Array.from(r).map(e=>t[e%26]).join("")}catch(e){return console.log("idRandLong failed",e),""}}},246:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cacheCheck=t.delayCode=void 0;const n=r(125);t.delayCode=async(e=0)=>await new Promise(t=>setTimeout(t,e)),t.cacheCheck=({analysisCacheLimit:e,lastUpdated:t,forceRefresh:r})=>{const o=Date.now();if(t&&(!r&&t>o-e||r&&t>o-n.oneDay))return!0}},792:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEven=t.pNum=t.sharpeRatio=t.priceVariations=t.nTxtAr=t.zNum=t.addCom=t.adjNum=t.rNum=void 0;const r=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19],n=(e,t=6)=>{const n=+e,o=n?Math.abs(n):0,a=o>1&&t?t-`${Math.round(o)}`.length:0;return n?(n<0?-1:1)*(Number.isInteger(o)||o<1e-16?o:o>1e5?Math.round(o):o>1?Number(o.toFixed(a<0?0:a)):((e,t)=>{let n=0;for(const o of r){if(o<e)return Number(e.toFixed(t+n-1));n++}return e})(o,t)):e},o=(e,t)=>{const r=(n(e,t)+"").split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")},a=(e,t=3)=>{const r=Number(e);if(!e||!r)return e+"";const a=Math.abs(r);return(r<0?"-":"")+(a>1e9?o(a/1e9,t)+"b":a>1e6?o(a/1e6,t)+"m":a<1e-6&&a>1e-16?(1+n(a,t)+"").replace(/1./g,"0."):o(a,t))};t.nTxtAr=["zero","one","two","three","four","five","six","seven","eight","nine","ten"],t.rNum=n,t.addCom=o,t.adjNum=a,t.zNum=e=>{const t=Number(e);let r=t?Math.abs(t):0,n=1e10;for(;n>1;)r>n&&(r=Math.round(r/(n/10))*(n/10)),n/=10;return t?(t<0?"-":"")+a(r,2):e},t.pNum=e=>+e||0==+e?Math.round(1e6*+e)/1e6:null,t.priceVariations=e=>{try{let t=0;const r=[...e].sort((e,t)=>e[0]-t[0]),n=e.reduce((e,[,t])=>e+t,0),o=r.find(([,e])=>(t+=e,t>=n/2))[0];return e.filter(([e])=>Math.abs(e-o)/o<.05).map(([e])=>e)}catch{return[]}},t.sharpeRatio=({assetPrices:e,minExpectedReturn:t=.05})=>{if(!e?.length||e?.length<2)return 0;const r=e.slice(1).map((t,r)=>(t-e[r])/e[r]),n=r.reduce((e,t)=>e+t,0)/r.length,o=Math.sqrt(r.reduce((e,t)=>e+Math.pow(t-n,2),0)/r.length);return(n-t)/o},t.isEven=e=>e%2==0},794:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.restoreObj=t.restoreObjStr=t.storeObj=t.storeObjStr=t.objNestValueCount=t.objLen=t.objSortSimple=t.objSort=void 0;const n=r(125),o=e=>{try{return Object.keys(e||{})?.length||0}catch(e){return console.log(e),0}},a=e=>{try{return e?.replace(/"/g,"'")}catch(e){return console.log((0,n.tN)(),"storeObjStr failed",e),""}},i=e=>{try{return e?.toString()?.replace(/'/g,'"')}catch(e){console.log((0,n.tN)(),"restoreObjStr failed",e)}};t.objLen=o,t.objNestValueCount=e=>{let t=0;if(o(e))for(const r in e)t+=o(e[r])?1:0;return t},t.objSort=(e={},t,r=-1)=>Object.fromEntries(Object.entries(e).sort(([,e],[,n])=>null===e[t]||void 0===e[t]?1:null===n[t]||void 0===n[t]?-1:e[t]>n[t]?1*r:-1*r)),t.objSortSimple=(e={},t=-1)=>Object.fromEntries(Object.entries(e).sort(([,e],[,r])=>null==e?1:null==r?-1:e>r?1*t:-1*t)),t.storeObjStr=a,t.storeObj=e=>{try{return a(JSON.stringify(e))}catch(e){return console.log((0,n.tN)(),"storeObj failed",e),""}},t.restoreObjStr=i,t.restoreObj=e=>{try{if(!e)return;const t=i(e);return t?JSON.parse(t):void 0}catch(e){console.log((0,n.tN)(),"restoreObj failed",e)}}},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.phaseDifference=t.compareArrays=t.squeezeArray=t.forecastNextTotal=t.forecastNext=t.getMax=t.getMean=t.getSum=t.maxVl=t.minVl=t.sumArr=void 0;const r=e=>{try{return e?.length?e.reduce((e,t)=>e+t):0}catch(e){return console.log("sumArr failed",e),0}},n=e=>{try{return e?.length?e.reduce((e,t)=>e+t,0):0}catch(e){return console.log("getSum failed",e),0}},o=({currentPeriod:e,steps:t=1})=>{try{if(!Array.isArray(e)||e.length<2)return[];const r=e.length,n=r*(r-1)/2,o=e.reduce((e,t)=>e+t,0),a=e.reduce((e,t,r)=>e+r*t,0),i=(r*a-n*o)/(r*(r*(r-1)*(2*r-1)/6)-n**2),s=(o-i*n)/r;return Array.from({length:t},(e,t)=>s+i*(r+t))}catch(e){return console.log("forecastNext failed",e),[]}};t.sumArr=r,t.maxVl=(e,t)=>{let r=0;for(let n=0;n<e.length;n++){const o=e[n];o[t]>r&&(r=o[t])}return r},t.minVl=(e,t)=>{let r=0;for(let n=0;n<e.length;n++){const o=e[n];o[t]<r&&(r=o[t])}return r},t.getSum=n,t.getMean=e=>{try{return e?.length?n(e)/e.length:0}catch(e){return console.log("getMean failed",e),0}},t.getMax=e=>{try{return e?.length?Math.max(...e):0}catch(e){return console.log("getMax failed",e),0}},t.forecastNext=o,t.forecastNextTotal=e=>{try{const t=o({currentPeriod:e,steps:e?.length});return n(t)}catch(e){return console.log("forecastNextTotal failed",e),0}},t.squeezeArray=({arr:e,targetLength:t})=>{try{if(!e||0===e.length||t<=0)throw new Error("Invalid input");const n=Math.ceil(e.length/t);return Array.from({length:t},(t,o)=>{const a=o*n,i=Math.min(a+n,e.length),s=e.slice(a,i);return r(s)}).slice(0,t)}catch(e){return console.log("squeezeArray failed",e),[]}},t.compareArrays=({arrays:e})=>{try{const t=[...e],n=Math.min(...t.map(e=>e.length));for(let e=0;e<t.length;e++)t.splice(n);const o=t.map(e=>r(e)),a=[],i=Math.min(...o),s=o.indexOf(i),c=i/Math.max(...o);for(let e=0;e<t.length;e++){const r=t[e];if(a[e]=[],e==s)a[e]=r;else for(let t=0;t<r.length;t++)a[e].push(c*r[t])}return a}catch(t){return console.log("compareArrays failed",t),e}},t.phaseDifference=({array1:e,array2:t})=>{try{let r=e.length,n=e.reduce((e,t)=>e+t)/r,o=t.reduce((e,t)=>e+t)/r,a=e.map(e=>e-n),i=t.map(e=>e-o),s=Math.floor(r/2),c=-1/0,u=0;for(let e=-s;e<=s;e++){let t=0,n=0,o=0,s=0;for(let c=0;c<r;c++){let u=c+e;u>=0&&u<r&&(t+=a[c]*i[u],n+=a[c]*a[c],o+=i[u]*i[u],s++)}if(n>0&&o>0&&s>=.8*r){let r=t/Math.sqrt(n*o);r>c&&(c=r,u=e)}}return u}catch(e){return console.log("phaseDifference failed",e),0}}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t](a,a.exports,n),a.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.idShuffle=e.isEven=e.pNum=e.nTxtAr=e.zNum=e.addCom=e.adjNum=e.rNum=e.sharpeRatio=e.priceVariations=e.timeStandard=e.dateStandard=e.addZ=e.tN=e.monNm=e.tmUTC=e.tmAP=e.moYrDt=e.shortDt=e.fullLong=e.fullDate=e.fullDt=e.invDt=e.dayRes=e.thisYear=e.seoDt=e.oneMon=e.oneMin=e.oneHr=e.oneDay=e.oneSec=e.restoreObj=e.restoreObjStr=e.storeObj=e.storeObjStr=e.objSortSimple=e.objSort=e.objNestValueCount=e.objLen=e.phaseDifference=e.compareArrays=e.squeezeArray=e.forecastNextTotal=e.forecastNext=e.getMax=e.getMean=e.getSum=e.maxVl=e.minVl=e.sumArr=void 0,e.cacheCheck=e.delayCode=e.idRandLong=e.idRandShort=void 0;const t=n(246);Object.defineProperty(e,"cacheCheck",{enumerable:!0,get:function(){return t.cacheCheck}}),Object.defineProperty(e,"delayCode",{enumerable:!0,get:function(){return t.delayCode}});const r=n(830);Object.defineProperty(e,"sumArr",{enumerable:!0,get:function(){return r.sumArr}}),Object.defineProperty(e,"minVl",{enumerable:!0,get:function(){return r.minVl}}),Object.defineProperty(e,"maxVl",{enumerable:!0,get:function(){return r.maxVl}}),Object.defineProperty(e,"getMax",{enumerable:!0,get:function(){return r.getMax}}),Object.defineProperty(e,"getMean",{enumerable:!0,get:function(){return r.getMean}}),Object.defineProperty(e,"getSum",{enumerable:!0,get:function(){return r.getSum}}),Object.defineProperty(e,"forecastNext",{enumerable:!0,get:function(){return r.forecastNext}}),Object.defineProperty(e,"forecastNextTotal",{enumerable:!0,get:function(){return r.forecastNextTotal}}),Object.defineProperty(e,"squeezeArray",{enumerable:!0,get:function(){return r.squeezeArray}}),Object.defineProperty(e,"compareArrays",{enumerable:!0,get:function(){return r.compareArrays}}),Object.defineProperty(e,"phaseDifference",{enumerable:!0,get:function(){return r.phaseDifference}});const a=n(240);Object.defineProperty(e,"idRandLong",{enumerable:!0,get:function(){return a.idRandLong}}),Object.defineProperty(e,"idRandShort",{enumerable:!0,get:function(){return a.idRandShort}}),Object.defineProperty(e,"idShuffle",{enumerable:!0,get:function(){return a.idShuffle}});const i=n(792);Object.defineProperty(e,"addCom",{enumerable:!0,get:function(){return i.addCom}}),Object.defineProperty(e,"adjNum",{enumerable:!0,get:function(){return i.adjNum}}),Object.defineProperty(e,"priceVariations",{enumerable:!0,get:function(){return i.priceVariations}}),Object.defineProperty(e,"nTxtAr",{enumerable:!0,get:function(){return i.nTxtAr}}),Object.defineProperty(e,"rNum",{enumerable:!0,get:function(){return i.rNum}}),Object.defineProperty(e,"zNum",{enumerable:!0,get:function(){return i.zNum}}),Object.defineProperty(e,"sharpeRatio",{enumerable:!0,get:function(){return i.sharpeRatio}}),Object.defineProperty(e,"pNum",{enumerable:!0,get:function(){return i.pNum}}),Object.defineProperty(e,"isEven",{enumerable:!0,get:function(){return i.isEven}});const s=n(125);Object.defineProperty(e,"oneSec",{enumerable:!0,get:function(){return s.oneSec}}),Object.defineProperty(e,"oneDay",{enumerable:!0,get:function(){return s.oneDay}}),Object.defineProperty(e,"oneHr",{enumerable:!0,get:function(){return s.oneHr}}),Object.defineProperty(e,"oneMin",{enumerable:!0,get:function(){return s.oneMin}}),Object.defineProperty(e,"oneMon",{enumerable:!0,get:function(){return s.oneMon}}),Object.defineProperty(e,"seoDt",{enumerable:!0,get:function(){return s.seoDt}}),Object.defineProperty(e,"dayRes",{enumerable:!0,get:function(){return s.dayRes}}),Object.defineProperty(e,"invDt",{enumerable:!0,get:function(){return s.invDt}}),Object.defineProperty(e,"fullDt",{enumerable:!0,get:function(){return s.fullDt}}),Object.defineProperty(e,"fullDate",{enumerable:!0,get:function(){return s.fullDate}}),Object.defineProperty(e,"fullLong",{enumerable:!0,get:function(){return s.fullLong}}),Object.defineProperty(e,"shortDt",{enumerable:!0,get:function(){return s.shortDt}}),Object.defineProperty(e,"moYrDt",{enumerable:!0,get:function(){return s.moYrDt}}),Object.defineProperty(e,"tmAP",{enumerable:!0,get:function(){return s.tmAP}}),Object.defineProperty(e,"tmUTC",{enumerable:!0,get:function(){return s.tmUTC}}),Object.defineProperty(e,"monNm",{enumerable:!0,get:function(){return s.monNm}}),Object.defineProperty(e,"tN",{enumerable:!0,get:function(){return s.tN}}),Object.defineProperty(e,"addZ",{enumerable:!0,get:function(){return s.addZ}}),Object.defineProperty(e,"timeStandard",{enumerable:!0,get:function(){return s.timeStandard}}),Object.defineProperty(e,"dateStandard",{enumerable:!0,get:function(){return s.dateStandard}}),Object.defineProperty(e,"thisYear",{enumerable:!0,get:function(){return s.thisYear}});const c=n(794);Object.defineProperty(e,"objSort",{enumerable:!0,get:function(){return c.objSort}}),Object.defineProperty(e,"objLen",{enumerable:!0,get:function(){return c.objLen}}),Object.defineProperty(e,"objNestValueCount",{enumerable:!0,get:function(){return c.objNestValueCount}}),Object.defineProperty(e,"restoreObj",{enumerable:!0,get:function(){return c.restoreObj}}),Object.defineProperty(e,"restoreObjStr",{enumerable:!0,get:function(){return c.restoreObjStr}}),Object.defineProperty(e,"storeObj",{enumerable:!0,get:function(){return c.storeObj}}),Object.defineProperty(e,"storeObjStr",{enumerable:!0,get:function(){return c.storeObjStr}}),Object.defineProperty(e,"objSortSimple",{enumerable:!0,get:function(){return c.objSortSimple}})})();var a=t;for(var i in o)a[i]=o[i];o.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})()},177(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipCountryCode=t.ipArray=t.ipNumericalValue=void 0;const n=r(69),o=r(109),a=e=>{try{return e?.split(".")?.reduce((e,t)=>256*e+parseInt(t),0)}catch{return 0}},i=e=>e?e.match(", ")?e.split(", "):e.match("::ffff:")?e.split("::ffff:"):[]:[];t.ipNumericalValue=a,t.ipArray=i,t.ipCountryCode=({code:e,ips:t,ipRange:r})=>{try{const n=i(t)?.find(e=>!e?.includes(":"));if(n){const t=a(n);for(const[n,o,a]of r)if(t>=n&&t<=o){e=a;break}}}catch(e){console.log((0,n.seoDt)(),"ipCountryCode failed",e)}return e&&o.countriesCodes[e]?e:"UN"}},109(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webConfig=t.statsConfig=t.uriCorrupt=t.checkInterval=t.ipRateLimits=t.countriesCodes=t.ipSourceUrl=void 0;const r={trafficDir:"traffic",thisDomain:"",excludeURIs:[],searchEngines:[],uriAlias:{}},n={checkInterval:5e3};t.ipSourceUrl="https://cdn.jsdelivr.net/npm/@ip-location-db/dbip-country/dbip-country-ipv4-num.csv",t.countriesCodes={AD:1,AE:1,AF:1,AG:1,AI:1,AL:1,AM:1,AO:1,AQ:1,AR:1,AS:1,AT:1,AU:1,AW:1,AX:1,AZ:1,BA:1,BB:1,BD:1,BE:1,BF:1,BG:1,BH:1,BI:1,BJ:1,BL:1,BM:1,BN:1,BO:1,BQ:1,BR:1,BS:1,BT:1,BV:1,BW:1,BY:1,BZ:1,CA:1,CC:1,CD:1,CF:1,CG:1,CH:1,CI:1,CK:1,CL:1,CM:1,CN:1,CO:1,CR:1,CU:1,CV:1,CW:1,CX:1,CY:1,CZ:1,DE:1,DJ:1,DK:1,DM:1,DO:1,DZ:1,EC:1,EE:1,EG:1,EH:1,ER:1,ES:1,ET:1,FI:1,FJ:1,FK:1,FM:1,FO:1,FR:1,GA:1,GB:1,GD:1,GE:1,GF:1,GG:1,GH:1,GI:1,GL:1,GM:1,GN:1,GP:1,GQ:1,GR:1,GS:1,GT:1,GU:1,GW:1,GY:1,HK:1,HM:1,HN:1,HR:1,HT:1,HU:1,ID:1,IE:1,IL:1,IM:1,IN:1,IO:1,IQ:1,IR:1,IS:1,IT:1,JE:1,JM:1,JO:1,JP:1,KE:1,KG:1,KH:1,KI:1,KM:1,KN:1,KP:1,KR:1,KW:1,KY:1,KZ:1,LA:1,LB:1,LC:1,LI:1,LK:1,LR:1,LS:1,LT:1,LU:1,LV:1,LY:1,MA:1,MC:1,MD:1,ME:1,MF:1,MG:1,MH:1,MK:1,ML:1,MM:1,MN:1,MO:1,MP:1,MQ:1,MR:1,MS:1,MT:1,MU:1,MV:1,MW:1,MX:1,MY:1,MZ:1,NA:1,NC:1,NE:1,NF:1,NG:1,NI:1,NL:1,NO:1,NP:1,NR:1,NU:1,NZ:1,OM:1,PA:1,PE:1,PF:1,PG:1,PH:1,PK:1,PL:1,PM:1,PN:1,PR:1,PS:1,PT:1,PW:1,PY:1,QA:1,RE:1,RO:1,RS:1,RU:1,RW:1,SA:1,SB:1,SC:1,SD:1,SE:1,SG:1,SH:1,SI:1,SJ:1,SK:1,SL:1,SM:1,SN:1,SO:1,SR:1,SS:1,ST:1,SV:1,SX:1,SY:1,SZ:1,TC:1,TD:1,TF:1,TG:1,TH:1,TJ:1,TK:1,TL:1,TM:1,TN:1,TO:1,TR:1,TT:1,TV:1,TW:1,TZ:1,UA:1,UG:1,UM:1,US:1,UY:1,UZ:1,VA:1,VC:1,VE:1,VG:1,VI:1,VN:1,VU:1,WF:1,WS:1,XK:1,YE:1,YT:1,ZA:1,ZM:1,ZW:1,UN:1},t.ipRateLimits={generalAccess:20,whiteListed:100,priorityAccess:500},t.checkInterval=5e3,t.uriCorrupt=/[:%\s]|.html/,t.statsConfig=r,t.webConfig=n},941(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipListReset=t.ipRangeUpdate=t.ipData=t.ipPriorityList=t.ipWhiteList=t.ipCheck=t.ipResetLimits=void 0;const n=r(69),o=r(246),a=r(177),i=r(109),s=r(361),c=()=>({p:{},w:{},b:[],l:{}}),u={ipList:{p:{},w:{},b:[],l:{}},ipRange:[]};t.ipResetLimits=c,t.ipCheck=e=>{try{const t=u.ipList,r=i.ipRateLimits.generalAccess,n=i.ipRateLimits.whiteListed,o=i.ipRateLimits.priorityAccess,s=(0,a.ipArray)(e);for(let e=0;e<s.length;e++){const a=s[e];if(a){if(t.p[a]<o||t.w[a]<n)break;if(t.b.indexOf(a)>-1)return 0;if(t.l[a]){if(t.l[a]>r)return t.b.push(a),0;t.l[a]+=1}else t.l[a]=1}}return 1}catch(e){console.log((0,n.seoDt)(),"Validating IP failed",e)}},t.ipWhiteList=e=>{try{const t=u.ipList,r=(0,a.ipArray)(e);for(let e=0;e<r.length;e++){const n=r[e];n&&(t.w[n]?t.w[n]+=1:t.w[n]=1)}}catch(e){console.log((0,n.seoDt)(),"Checking IP whitelist failed",e)}},t.ipPriorityList=e=>{try{const t=u.ipList,r=(0,a.ipArray)(e);for(let e=0;e<r.length;e++){const n=r[e];n&&(t.p[n]?t.p[n]+=1:t.p[n]=1)}}catch(e){console.log((0,n.seoDt)(),"Checking IP priority list failed",e)}},t.ipData=u,t.ipRangeUpdate=async()=>{try{const e=await(0,s.ipCountryDataUpdate)();e?.length&&(u.ipRange=e,(0,o.wrtJ)("ip_range.json",e))}catch(e){console.log((0,n.seoDt)(),"ipRangeUpdate failed",e)}},t.ipListReset=()=>{u.ipList={p:{},w:{},b:[],l:{}}}},361(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipCountryDataUpdate=void 0;const n=r(69),o=r(109);t.ipCountryDataUpdate=async()=>await new Promise(async e=>{try{const t=await fetch(o.ipSourceUrl),r=t?.body.getReader(),a=new TextDecoder,i=[];let s="";for(;;){const{done:e,value:t}=await r.read();if(e)break;s+=a.decode(t,{stream:!0});const n=s.split("\n");s=n.pop()||"";for(const e of n){if(!e.trim())continue;const[t,r,n]=e.split(","),o=parseInt(t),a=parseInt(r);o&&n&&i.push([o,a,n?.trim()])}}i?.length?e(i):console.log((0,n.seoDt)(),"ipCountryDataUpdate no data")}catch(t){console.log((0,n.seoDt)(),"ipCountryDataUpdate failed",t),e([])}})},88(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startAnalyticsServer=void 0;const n=r(279),o=r(211);t.startAnalyticsServer=async e=>{await(0,o.ipStart)(e),(0,n.configStats)(e),(0,n.startStats)()}},279(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareStats=t.compare24hr=t.combineStats=t.compareDateStrings=t.startStats=t.recordStats=t.analyseStats=t.formatVisits=t.statsAddOne=t.statsPeriodStr=t.configStats=t.statsConfig=void 0;const n=r(69),o=r(246),a=r(481),i=r(177),s=r(109);Object.defineProperty(t,"statsConfig",{enumerable:!0,get:function(){return s.statsConfig}});const c={},u=e=>{try{return c[e]||(c[e]=(0,o.redJ)(`${s.statsConfig.trafficDir}${e}.json`,!0)||{}),c[e]}catch(e){return console.log((0,n.seoDt)(),"readStats failed",e),{}}},l=()=>{try{const e=(0,n.dateStandard)(new Date),t=u(e);(0,n.objLen)(t)&&(0,o.wrtJ)(`${s.statsConfig.trafficDir}${e}.json`,t)}catch(e){console.log((0,n.seoDt)(),"saveStats failed",e)}},d=e=>{const t={};for(let r=0;r<e.length;r++){const o=u(e[r]);if((0,n.objLen)(o))for(const e in o)t[e]=(t[e]||[]).concat(o[e]||[])}return t},f=({startDay:e,endDay:t})=>{try{if(!e)return;const r=[],o=new Date(e).getTime();if(e!=t&&t){const e=new Date(t).getTime(),a=Math.round((e-o)/n.oneDay),{thisPeriod:i,prvPeriod:s}=g({endTime:e,days:a});r.push(i),r.push(s)}else{r.push(e);const t=(0,n.dateStandard)(o-n.oneDay);r.push(t)}return r}catch(r){console.log((0,n.seoDt)(),"compareDateStrings failed",e,t,r)}},p=e=>{for(const t in s.statsConfig.uriAlias)if(e?.includes(t))return s.statsConfig.uriAlias[t];return e},m=({num:e,endTime:t=Date.now()})=>Array.from({length:e},(e,t)=>t).map(e=>(0,n.dateStandard)(t-n.oneDay*e)).join(","),g=({days:e,endTime:t=Date.now()})=>{try{const r=m({num:e,endTime:t});return{thisPeriod:r,prvPeriod:m({num:e,endTime:t-e*n.oneDay})}}catch{return{thisPeriod:"",prvPeriod:""}}},b=({typeName:e,visitsObj:t,visitorsObj:r,visitId:n})=>{t[e]=(t[e]||0)+1,r[e]||(r[e]={}),r[e][n]=1},y=({visitors:e,visits:t})=>Object.entries(e)?.map(([e,r])=>[e,(0,n.objLen)(r),t[e]||0])?.sort(([,e],[,t])=>e>t?-1:1),h=({visitorsCount:e,freqVisitors:t})=>{try{const r=Object.entries(e)?.filter(e=>e[1]>2)?.sort((e,t)=>e[1]>t[1]?-1:1);return r.map(([e])=>{let r=0,o=0;const a=Object.entries(t[e]),i=!!a.find(([,e])=>e.find(e=>e.logged)),c=a[0][1][0],u=c.winW>c.winH?"desktop":"mobile",l=`${c.winW}x${c.winH} (${u})`,d=a.find(([,e])=>e.find(e=>e.referrer&&(!s.statsConfig.thisDomain||!e.referrer?.includes(s.statsConfig.thisDomain))))?.[1]?.[0]?.referrer,f=a.find(([,e])=>e.find(e=>e.code))?.[1]?.[0]?.code||"UN",p=a.map(([e,t])=>{const a=t.sort((e,t)=>e.timestamp>t.timestamp?-1:1).map(e=>((!r||r>e.timestamp)&&(r=e.timestamp),(!o||o<e.timestamp)&&(o=e.timestamp),e.timestamp)),i=(0,n.rNum)((a[0]-a[a.length-1])/n.oneDay,0);return`${e}`+(t.length>1?` x${t.length}`:"")+(i>1?` (${i} days)`:"")});return[e,{days:(0,n.rNum)((o-r)/n.oneDay),hasAccount:i,screenSize:l,source:d,country:f,pages:p}]})?.filter(([e,t])=>"undefined"!=e&&t.days>3)?.sort((e,t)=>e[1].country>t[1].country?-1:1)?.sort((e,t)=>e[1].hasAccount&&!t[1].hasAccount?-1:1)?.map(([,e])=>{const t=(e.source&&!e.source?.includes("coinexams")?e.source.split(".")[1]?.toUpperCase():"")||"";return`${(0,n.rNum)(e.days,0)} days | ${e.hasAccount?"user":"visitor"} | ${e.country} > ${e.screenSize} > ${t} > ${e.pages?.join(",")}`})}catch(e){console.log((0,n.seoDt)(),"freqVisits failed",e)}return[]},S=({dayData:e,dateReqStr:t,spamVisitorLimit:r=3,spamVisitsLimit:o=10,bounceSecondsLimit:i=4,visitMinSeconds:c=10,visitCutOffSeconds:u=1200,resolution:l,updateStartTime:d,calcFreqVisits:f})=>{try{let m=0,g=0,S=0,j=0,O=0;const v=[],D={},C={},P={},M={},N={mobile:0,desktop:0},w={},A={},R={},L={},I={},x={},T=[],U=[],_={},V={},E={},F={},J={};for(const t in e){if(s.statsConfig.excludeURIs?.length&&s.statsConfig.excludeURIs?.find(e=>t?.includes(e)))continue;const r=e[t];I[t]=r;for(let e=0;e<r.length;e++){const t=r[e],n=t.timestamp;t.statsId&&(R[n]=(R[n]||0)+1,A[n]||(A[n]={}),A[n][t.statsId]=(A[n]?.[t.statsId]||0)+1)}}for(const e in R){const t=A[e];for(const n in t){const o=t[n];o>r&&(R[e]-=o,delete t[n],_[n]=o)}R[e]>o&&(V[e]=R[e],delete R[e])}const $=t?.split(","),k=$?.length;l=l||(1==k?24:7==k?14:k);const G=$?.length*n.oneDay/l,H=Object.keys(R)?.map(e=>+e)?.sort((e,t)=>e>t?1:-1),B=d?H[0]:new Date($[$.length-1]).getTime();for(let e=0;e<l;e++){const t=B+G*e,r=H.findIndex(e=>e>=t),o=B+G*(e+1),a=H.findIndex(e=>e>=o);U[e]=U[e]||0,T[e]=T[e]||0;for(let t=r;t<=a;t++){const r=H[t],o=R[r];U[e]+=o,T[e]+=(0,n.objLen)(A[r])}}for(const e in I){let t=0,r=0,o=0,c=0,u=0,l=0,d=0;const y=[],h="/"==e?"Home":p(e),A=I[e].filter(e=>!(_[e.statsId]||V[e.timestamp]));x[e]=A,E[h]?.length||(E[h]=[]),F[h]?.length||(F[h]=[]),L[h]||(L[h]={});for(let e=0;e<A.length;e++){const n=A[e],p=n.statsId,R=n.winW<900?a.StatsDevice.mobile:a.StatsDevice.desktop,I=R==a.StatsDevice.mobile;b({typeName:n.code&&s.countriesCodes[n.code]?n.code:"UN",visitsObj:P,visitorsObj:M,visitId:p}),b({typeName:R,visitsObj:N,visitorsObj:w,visitId:p}),I?l++:d++,(I?E:F)[h].push([n.winW,n.winH]);const x=n.referrer;s.statsConfig.searchEngines?.length&&s.statsConfig.searchEngines.find(e=>x?.includes(e))?(o+=1,m+=1):s.statsConfig.thisDomain&&x?.includes(s.statsConfig.thisDomain)?(c+=1,g+=1):x&&(u+=1,S+=1);const T=n?.dur||0;v.push(T),y.push(T),t++,L[h][p]||(L[h][p]=1),L[h][p]+=1,j++,D[p]||(D[p]=1),D[p]+=1,f&&(C[p]||(C[p]={}),C[p][h]||(C[p][h]=[]),C[p][h].push(n)),T&&T<i&&(r++,O++)}J[h]||(J[h]={visits:0,visitsBounced:0,dur:0,durArray:[],search:0,domain:0,other:0,users:0,devices:{mobile:0,desktop:0},devicesDim:{mobile:[0,0],desktop:[0,0]}}),J[h].visits+=t,J[h].visitsBounced+=r,J[h].dur+=(0,n.getSum)(y),J[h].durArray=(J[h].durArray||[]).concat(y),J[h].search+=o,J[h].domain+=c,J[h].other+=u,J[h].devices.mobile+=l,J[h].devices.desktop+=d}const W=[],Y=[],K=e=>{const t=(0,n.getMean)(e.map(([e])=>e)),r=(0,n.getMean)(e.map(([,e])=>e));return[10*Math.round(t/10),10*Math.round(r/10)]};for(const e in J){const t=E[e],r=F[e];J[e].users=(0,n.objLen)(L[e]),J[e].devicesDim={mobile:K(t),desktop:K(r)},W.push(...t),Y.push(...r)}const q=(0,n.objLen)(D),z=y({visitors:M,visits:P}),Z=y({visitors:w,visits:N}),Q=Object.entries(J);Q.push(["total_visits",{search:m,domain:g,other:S,visits:j,visitsBounced:O,dur:(0,n.getSum)(v),durArray:v,users:q,devices:N,devicesDim:{mobile:K(W),desktop:K(Y)}}]);const X=[];for(let e=0;e<Q.length;e++){const[t,r]=Q[e],o=r.durArray?.filter(e=>c<e&&e<u),a={...r,durMean:(0,n.getMean)(o),verifiedVisits:o?.length};delete a.durArray,X.push([t,a])}return X.sort((e,t)=>e[1].users>t[1].users||e[1].visits==t[1].visits&&e[1].durMean>t[1].durMean?-1:1),{total:j,pages:X,countries:z,devices:Z,chartVisits:U,chartVisitors:T,dayDataFiltered:x,visitors:q,spamVisitors:_,...f?{freqVisits:h({visitorsCount:D,freqVisitors:C})}:{}}}catch(e){console.log((0,n.seoDt)(),"analyseStats failed",t,e)}};t.recordStats=({ipRange:e,ips:t,data:r})=>{try{const o=(0,n.dateStandard)(new Date),a=(e=>!e||"string"!=typeof e||e.match(s.uriCorrupt)?"":(e.length>150&&(e=e.slice(0,150)),e))(r?.uri),c=r?.session,l=r?.dur;if(!c||!a)return;const d=u(o);d[a]||(d[a]=[]);const f=d[a],p=l&&f?.length?f?.findIndex(e=>e.session==c):void 0;if(null!=p&&f[p])f[p].dur=l;else{const n=(0,i.ipCountryCode)({code:r.code,ips:t,ipRange:e});f.push({statsId:r.statsId,session:r.session,timestamp:r.timestamp,event:r.event,winW:r.winW,winH:r.winH,referrer:r.referrer,logged:!!r.logged,code:n,dur:l})}}catch(e){console.log((0,n.seoDt)(),"recordStats failed",e)}},t.combineStats=d,t.compareDateStrings=f,t.compareStats=({startDay:e,endDay:t})=>{try{return f({startDay:e,endDay:t})?.map(e=>S({dateReqStr:e,dayData:d(e?.split(","))}))}catch(r){console.log((0,n.seoDt)(),"compareStats failed",e,t,r)}},t.compare24hr=()=>{try{const e=(new Date).getTime(),t=(0,n.dateStandard)(e),r=e-n.oneDay,o=(0,n.dateStandard)(r),a=e-2*n.oneDay,i=d([t,o,(0,n.dateStandard)(a)]),s={},c={};for(const e in i){const t=i[e];for(let n=0;n<t.length;n++){const o=t[n];o.timestamp>r?(s[e]||(s[e]=[]),s[e].push(o)):o.timestamp>a&&(c[e]||(c[e]=[]),c[e].push(o))}}return[S({dateReqStr:t,dayData:s,resolution:48,updateStartTime:!0}),S({dateReqStr:o,dayData:c,resolution:48,updateStartTime:!0})]}catch(e){console.log((0,n.seoDt)(),"compare24hr failed",e)}},t.statsPeriodStr=g,t.statsAddOne=b,t.formatVisits=y,t.analyseStats=S,t.configStats=e=>{s.statsConfig.trafficDir=e.trafficDir||s.statsConfig.trafficDir,s.statsConfig.thisDomain=e.thisDomain||"",s.statsConfig.excludeURIs=e.excludeURIs||[],s.statsConfig.searchEngines=e.searchEngines||[],s.statsConfig.uriAlias=e.uriAlias||{}},t.startStats=()=>{try{(0,o.safeFolder)(s.statsConfig.trafficDir||""),setInterval(l,15*n.oneSec)}catch(e){console.log((0,n.seoDt)(),"startStats failed",e)}}},211(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipStart=void 0;const n=r(69),o=r(941),a=r(246);let i=setInterval(()=>{},n.oneDay),s=setInterval(()=>{},n.oneDay);clearInterval(i),clearInterval(s);t.ipStart=async({ipRangeRefreshInterval:e=n.oneDay,ipLimitResetInterval:t=5*n.oneMin})=>{try{o.ipData.ipRange=(0,a.redJ)("ip_range.json",!0)||[],o.ipData.ipRange?.length||await(0,o.ipRangeUpdate)(),"number"==typeof e&&(i&&clearInterval(i),i=setInterval(o.ipRangeUpdate,e)),"number"==typeof t&&(s&&clearInterval(s),s=setInterval(o.ipListReset,t))}catch(e){console.log((0,n.seoDt)(),"ipStart failed",e)}}},90(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webAnalytics=t.setWebConfig=void 0;const n=r(69),o=r(109),a=()=>{try{const e=navigator.language||navigator.languages?.[0],t=e?.split("-")?.[1]?.toUpperCase();return o.countriesCodes[t]?t:"UN"}catch(e){return console.log("getCountryCode failed",e),"UN"}},i=()=>{try{let e="";if(localStorage?.statsId)try{const{statsId:t,time:r}=JSON.parse(localStorage?.statsId)||{};t&&r&&r>(0,n.tN)()-n.oneMon&&(e=t)}catch(e){}return e||(e=(0,n.idRandShort)(20),(localStorage||{}).statsId=JSON.stringify({statsId:e,time:(0,n.tN)()})),e}catch(e){return console.log("tempStatsId failed",e),""}},s=e=>{const t=(0,n.tN)();return{session:(0,n.idRandShort)(15),timestamp:t,uri:(()=>{try{return window?.location?.pathname}catch(e){console.log("getPathName failed",e)}return""})(),logged:e}};t.setWebConfig=e=>{o.webConfig.checkInterval=e.checkInterval||o.webConfig.checkInterval},t.webAnalytics=({logged:e,record:t})=>{try{let r=o.webConfig.checkInterval||o.checkInterval,c=0,u=!1,l=(0,n.tN)();const d=(()=>{try{return document?.referrer}catch(e){console.log("getReferrer failed",e)}return""})(),f={statsId:i(),...s(e),event:"pageview",winW:window?.innerWidth,winH:window?.innerHeight,...d?{referrer:d}:{},code:a()},p=e=>{try{const a=(0,n.tN)(),i=Math.max(0,a-f.timestamp-c),u=(0,n.rNum)(i/1e3,3),l=window?.location?.pathname,d=e||f.uri!=l;if(f.dur=u,t(f),r*=2,d){const e=s();f.session=e.session,f.timestamp=e.timestamp,f.uri=e.uri,delete f.dur,c=0,r=o.webConfig.checkInterval||o.checkInterval}}catch(e){console.log("Analytics end error",e)}};t(f),window.onbeforeunload=()=>p(!0),setInterval(()=>{p(!1)},r),document.onvisibilitychange=()=>{if("visible"==document.visibilityState){if(!u)return;u=!1,c+=(0,n.tN)()-l}else{if(u)return;u=!0,l=(0,n.tN)()}};try{navigation.onnavigatesuccess=()=>p(!1)}catch(e){}}catch(e){console.log("webAnalytics failed",e)}}},481(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StatsDevice=void 0,function(e){e.mobile="mobile",e.desktop="desktop"}(r||(t.StatsDevice=r={}))},24(e){"use strict";e.exports=require("node:fs")},522(e){"use strict";e.exports=require("node:zlib")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.webAnalytics=e.setWebConfig=e.startAnalyticsServer=e.configStats=e.dateStandard=e.StatsDevice=e.compareStats=e.compare24hr=e.combineStats=e.compareDateStrings=e.startStats=e.recordStats=e.analyseStats=e.formatVisits=e.statsAddOne=e.statsPeriodStr=e.ipStart=e.ipData=e.ipCountryCode=e.ipRangeUpdate=e.ipRateLimits=e.ipResetLimits=e.ipArray=e.ipNumericalValue=e.ipPriorityList=e.ipWhiteList=e.ipCheck=void 0;const t=r(69);Object.defineProperty(e,"dateStandard",{enumerable:!0,get:function(){return t.dateStandard}});const o=r(177);Object.defineProperty(e,"ipNumericalValue",{enumerable:!0,get:function(){return o.ipNumericalValue}}),Object.defineProperty(e,"ipArray",{enumerable:!0,get:function(){return o.ipArray}}),Object.defineProperty(e,"ipCountryCode",{enumerable:!0,get:function(){return o.ipCountryCode}});const a=r(109);Object.defineProperty(e,"ipRateLimits",{enumerable:!0,get:function(){return a.ipRateLimits}});const i=r(941);Object.defineProperty(e,"ipCheck",{enumerable:!0,get:function(){return i.ipCheck}}),Object.defineProperty(e,"ipWhiteList",{enumerable:!0,get:function(){return i.ipWhiteList}}),Object.defineProperty(e,"ipPriorityList",{enumerable:!0,get:function(){return i.ipPriorityList}}),Object.defineProperty(e,"ipResetLimits",{enumerable:!0,get:function(){return i.ipResetLimits}}),Object.defineProperty(e,"ipData",{enumerable:!0,get:function(){return i.ipData}}),Object.defineProperty(e,"ipRangeUpdate",{enumerable:!0,get:function(){return i.ipRangeUpdate}});const s=r(279);Object.defineProperty(e,"configStats",{enumerable:!0,get:function(){return s.configStats}}),Object.defineProperty(e,"statsPeriodStr",{enumerable:!0,get:function(){return s.statsPeriodStr}}),Object.defineProperty(e,"statsAddOne",{enumerable:!0,get:function(){return s.statsAddOne}}),Object.defineProperty(e,"formatVisits",{enumerable:!0,get:function(){return s.formatVisits}}),Object.defineProperty(e,"analyseStats",{enumerable:!0,get:function(){return s.analyseStats}}),Object.defineProperty(e,"recordStats",{enumerable:!0,get:function(){return s.recordStats}}),Object.defineProperty(e,"startStats",{enumerable:!0,get:function(){return s.startStats}}),Object.defineProperty(e,"compareDateStrings",{enumerable:!0,get:function(){return s.compareDateStrings}}),Object.defineProperty(e,"combineStats",{enumerable:!0,get:function(){return s.combineStats}}),Object.defineProperty(e,"compare24hr",{enumerable:!0,get:function(){return s.compare24hr}}),Object.defineProperty(e,"compareStats",{enumerable:!0,get:function(){return s.compareStats}});const c=r(211);Object.defineProperty(e,"ipStart",{enumerable:!0,get:function(){return c.ipStart}});const u=r(481);Object.defineProperty(e,"StatsDevice",{enumerable:!0,get:function(){return u.StatsDevice}});const l=r(88);Object.defineProperty(e,"startAnalyticsServer",{enumerable:!0,get:function(){return l.startAnalyticsServer}});const d=r(90);Object.defineProperty(e,"setWebConfig",{enumerable:!0,get:function(){return d.setWebConfig}}),Object.defineProperty(e,"webAnalytics",{enumerable:!0,get:function(){return d.webAnalytics}})})();var o=exports;for(var a in n)o[a]=n[a];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();